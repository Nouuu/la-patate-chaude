use std::time::Instant;
use monstrous_maze::challenge_resolve::MonstrousMaze;
use monstrous_maze::models::MonstrousMazeInput;

fn main() {
    pretty_env_logger::init();
    let grid = "│Y────┬─────────┬─┬─────┬───┬───────┬───────────┬─────────────┬───┬─┬─┬─────┬───┬─┬─┬───┬─────┬───────────┬─────┬─┬───┬───┬─────┬───────────────────┬───┬─┬─┬─┬─┬─┬───┬───┬─┬─┬───┬───────────┬─┬───┬───┐
│     │         │ │     │   │       │           │             │   │ │ │     │   │ │ │   │     │           │     │ │   │   │     │                   │   │ │ │ │ │ │   │   │ │ │   │           │ │   │   │
├── ──┴─┬── ────┘ │ ────┼─┐ ├── ──┬─┴─┬─┐ ──┬── │ │ ──┬──── ──┘ ┌─┘ │ └── ──┼── │ │ ├── ├── ──┘ ┌─┐ ──┬── │ ┌── │ │ ──┘ │ │ ────┼─────┐ ┌──────── ──┴── │ │ │ │ │ │ ┌─┴── │ │ ├── │ ┌──── ┌── │ │ ──┘ ──┤
│       │               │ │ │     │   │ │   │     │   │         │           │       │   │       │ │   │   │ │   │       │       │     │ │                   │     │ │         │     │     │     │       │
│ ┌─┬───┴─┬── │ ┌── ┌── │ │ └─┐ ──┼── │ ├── ├─┐ │ │ ┌─┴─┬─┬─┐ ──┴─────┬─┬─┐ └── ┌───┘ ┌─┴───┬─┐ │ ├─┐ └─┬─┼─┘ │ │ ┌─┐ ┌─┘ ────┬─┘ ┌───┴─┘ ┌──── ──┐ ────┐ ┌─┤ ┌─┬─┘ │ │ ┌─────┴── ──┴─┬── │ ──┬─┼── ────┤
│ │ │     │   │ │   │   │     │   │   │ │   │ │ │ │ │   │ │ │         │ │ │     │     │     │ │   │ │   │ │   │   │ │ │       │   │       │       │     │ │ │ │ │     │ │             │   │   │ │       │
│ │ │ ──┐ ├───┤ └─┬─┤ │ ├── │ │ │ │ ──┘ ├── │M└─┘ ├─┴── │ │ │ │ │ ──┐ │ │ │ ┌── └──── ├───┐ │ │ │ │ └───┘ ├── ├─┬─┘ │ ├─┬── ──┤ │ │ ──┐ ──┤ ────┐ │ │ │ │ │ │ │ │ ────┼─┼──── │ ┌─┐ │ ├───┘ │ │ │ │ ┌── │
│   │   │ │   │   │ │ │ │   │   │ │     │   │     │           │ │   │ │     │         │   │     │ │       │   │ │     │ │     │ │     │   │     │ │ │ │ │ │           │ │     │ │ │ │ │     │   │ │ │   │
│ ──┘ │ │ │ ──┴─┐ │ └─┘ │ ┌─┘ ┌─┘ │ ──┐ │ │ ├───┬─┴─┬── │ │ │ ├─┘ ┌─┘ │ │ │ └─┬── ┌───┘ ┌─┴─┐ │ ├─┤ ┌── ┌─┴─┐ │ │ ┌─┐ │ ├─┐ ┌─┴─┴─────┴── ├─────┤ ├─┤ │ └─┼─┬── ┌──── │ │ ────┤ │ └─┴─┴─┬───┴───┴─┤ └───┤
│     │ │       │ │       │   │   │   │ │ │ │   │   │   │ │ │ │   │     │ │   │   │     │   │ │ │ │ │   │   │ │   │ │ │ │ │ │             │     │ │ │ │   │ │   │       │     │         │         │     │
├── ┌─┴─┴─┐ ──┐ └─┴─┐ │ ──┼─┬─┴── │ ──┼─┴─┼─┘ ──┤ ┌─┤ ┌─┼─┴─┘ └───┤ ──┐ └─┼───┘ │ │ ┌───┤ ┌─┘ │ │ └─┴── │ ┌─┼─┤ ──┘ │ │ │ └─┼───┐ ┌─┬── ──┘ │ │ ├─┤ └─┼───┘ └─┐ └─┬─┐ ┌─┘ │ ──┤ ──┬─┐ ┌─┘ ──────┬─┼─┐ │ │
│   │     │   │     │ │   │ │         │   │     │ │ │ │ │         │   │   │     │   │   │ │   │           │ │ │     │       │   │ │ │       │ │ │ │   │       │   │ │ │   │   │   │ │ │         │ │ │ │ │
│ │ └── ┌─┴───┴── ──┘ │ ──┤ │ ──┬─┐ ──┘ ──┴── │ │ │ └─┤ └── ──┐ ┌─┼───┤ ┌─┴──── │ │ │ │ │ ├─┐ ├── ──┬───┬─┘ │ │ ┌─┐ ├── ──┐ │ ──┘ │ └───┐ │ └─┤ │ ├── │ ──┐ ──┴─┬─┘ │ │ ┌─┤ ┌─┘ ──┘ │ │ │ ┌── │ │ │ └─┘ │
│ │     │             │   │     │ │           │       │       │ │ │   │ │       │ │ │ │   │ │ │     │   │   │   │ │ │     │             │ │   │   │   │   │     │     │ │ │ │       │   │ │   │ │       │
├─┤ ────┤ ┌──── │ ──┐ │ ──┼── ┌─┘ └───┐ ┌─┐ │ ├──── │ ├─┐ ┌── ├─┘ │ │ │ └───┐ ┌─┴─┴─┘ │ ──┘ └─┤ ──┐ └─┐ │ │ ├───┘ │ ├─┬───┴─┬── ──┐ │ │ ├─┤ ──┴───┘ │ └─┬─┘ ──┐ ├─┐ ┌─┼─┘ │ ├───┐ ┌─┘ ┌─┴─┤ ┌─┼─┴───┬── │
│ │     │ │     │   │ │   │   │       │ │ │ │ │     │ │ │ │   │     │ │     │ │       │       │   │   │   │ │       │ │     │     │ │ │ │ │         │   │     │ │ │ │ │   │ │   │ │   │   │ │ │     │   │
│ └─┐ ┌─┤ ├──── │ │ │ └─┐ ├─┐ │ ┌───┬─┘ │ └─┼─┴──── │ │ │ ├── ├───┐ └─┘ │ ──┼─┘ ┌─┬── ├───┐ ┌─┘ ┌─┴── └── └─┴─┐ ──┐ │ ├── │ └── │ ├─┴─┘ │ ├─┬───┬───┼───┤ ┌── └─┘ │ │ └─┐ │ │ │ ├─┤ ┌─┼─┐ │ │ │ ──┐ │ │ │
│   │ │ │ │     │ │ │   │ │ │   │   │   │   │       │ │   │   │   │     │   │   │ │   │   │ │   │             │   │   │   │     │ │       │ │   │   │   │ │         │   │ │   │ │ │ │ │ │   │ │   │   │ │
├─┐ │ │ └─┤ ┌───┤ └─┼─┬─┼─┤ │ │ │ │ └─┬─┘ │ │M┌── ──┤ │ ──┴─┬─┴── │ │ ┌─┼───┴───┘ │ ──┘ ──┤ ├─┬─┴───┬─┐ ──┬─┬─┤ ┌─┼── │ ┌─┴───┬─┘ │ ┌─┬── │ │ ──┘ │ │ │ └─┴── ──┬─┐ │ ──┤ │ │ ├─┘ └─┘ │ ├───┘ │ │ │ │ └─┤
│ │ │     │ │   │   │ │ │ │   │   │   │   │   │     │       │     │ │ │ │         │       │ │ │     │ │   │ │ │ │ │   │ │     │   │ │ │           │ │ │         │ │     │   │ │         │       │ │ │   │
│ │ │ ┌── │ └─┐ │ ──┘ │ │ ├── ├───┴─┬─┼── ├─┐ ├───┬─┴─┐ │ ┌─┤ │ ──┼─┤ │ │ │ ┌─────┼───┬───┤ │ └─┬── │ ├── │ │ └─┘ └───┘ ├───┐ └─┬─┴─┘ └── ────┐ │ │ └─┴── ──┐ ┌─┘ │ ──┬─┘ ──┼─┤ ──┐ │ ──┼── ──┬─┘ ├─┴───┤
│   │ │   │   │       │   │   │     │ │   │ │ │   │   │ │ │ │ │   │ │   │ │ │     │   │   │ │   │     │   │             │   │   │             │ │ │         │ │   │   │     │ │   │ │   │     │   │     │
├─┐ └─┼── └───┼─┬── │ │ ──┘ ┌─┘ ┌─┬─┤ └───┤ └─┴─┐ └─┐ │ └─┘ └─┤ ┌─┘ │ ──┤ └─┴──── │ ──┤ │ │ │ │ └─┬── ├── ├─┬─┬─┐ ┌─┐ ┌─┤ ──┤ ┌─┘ │ │ ────────┤ └─┴─┐ ──┐ ──┴─┤ ──┼── └── ──┘ ├───┘ │ ──┘ ────┴─┬─┤ │ │ │
│ │   │       │ │   │ │     │   │ │ │     │     │   │ │       │ │       │             │ │     │   │   │   │ │ │ │ │ │ │ │   │ │   │ │         │     │   │     │   │           │     │           │ │ │ │ │
│ │ │ ├── │ ┌─┘ ├───┘ │ ────┘ │ │ │ │ ┌─┐ │ │ │ │ ──┤ └─┐ ┌── │ │ │ ┌── ├─┬── │ ┌─┬───┘ ├──── ├── ├── │ ┌─┤ │ │ │ │ ├─┘ └── │ └───┼─┘ │ ────┬─┼─┬───┴── ├── ┌─┤ │ │ │ │ │ ┌─┐ └──── └───┐ │ ──┬─┘ │ │ └─┤
│   │ │   │ │   │     │       │ │   │ │ │ │ │ │     │   │ │     │ │ │   │ │   │ │ │     │     │   │     │ │         │       │     │   │     │ │ │       │   │ │ │ │ │ │ │ │ │           │ │   │     │   │
│ │ └─┴───┘ │ │ └─┐ ──┤ ┌─┐ ──┴─┼── ├─┘ │ │ └─┼──── │ │ └─┴─┬─┬─┴─┴─┘ ──┤ │ ┌─┼─┘ └─┐ ──┤ │ │ │ │ ├──── │ │ ──┐ ──┬─┘ ┌── ──┘ │ ┌─┘ ──┴─┐ ┌─┘ │ │ ──┬─┐ ├───┘ └─┘ │ ├─┤ └─┘ │ ┌── ──┐ ┌─┴─┘ ──┼── ──┤ ──┤
│ │           │   │   │ │ │     │   │   │ │   │       │     │ │         │   │ │     │   │ │ │ │ │ │           │   │   │       │ │       │ │     │   │ │ │           │ │     │ │     │ │       │     │   │
├─┘ ──────┬───┤ ──┴───┤ │ │ │ ┌─┘ ──┴── │ │ ──┴─────┐ ├─┬── │ │ ──┬── │ ├── │ └───┐ │ ──┤ ├─┤ │ │ └── │ ──┐ ┌─┴── └─┐ │ ┌───┐ └─┼── ────┴─┴───┐ └── │ ├─┘ ──┬───┐ │ │ │ ──┐ │ │ │ │ │ ├─┐ ──┬─┴─┬─┐ │ ──┤
│         │   │       │ │   │ │         │           │ │ │   │ │   │   │ │   │     │     │ │ │ │ │     │   │ │       │ │ │   │   │             │       │     │   │ │   │   │ │ │ │ │ │ │ │   │   │ │ │   │
│ │ ┌─┐ ──┘ ┌─┘ │ ┌─┬─┴─┼───┘ └── │ ┌───┼──── ──┬── ├─┤ └───┘ ├── ├─┐ │ │ ──┼── │ └──── │ │ ├─┴─┼───┐ │ ┌─┼─┴───┬─┐ ├─┴─┘ ┌─┼─┐ │ │ ──┬── ┌─┐ ├── │ ──┤ ──┐ ├─┐ │ ├───┤ ┌─┴─┴─┴─┤ ├─┴─┤ │ ──┘ │ │ │ └─┬─┤
│ │ │ │     │   │ │ │   │         │ │   │       │   │ │       │   │ │ │     │   │       │   │   │   │ │ │ │     │ │ │     │ │ │   │   │   │ │ │   │   │   │ │ │   │   │ │       │ │   │ │     │ │     │ │
├─┼─┤ ├─┬── ├───┘ │ └─┐ └── ──┐ ┌─┘ │ ──┘ ┌─────┘ ┌─┘ │ │ ────┤ ──┘ ├─┼── ┌─┴─┬─┼─┐ ──┐ └─┬─┘ ┌─┤ ──┴─┤ │ └─┬─┐ │ │ ├───┐ │ │ └─┐ └─┐ ├───┘ │ ├───┼───┘ │ ├─┘ │ │ │ ──┴─┤ ┌───┐ │ │ ──┤ │ │ ──┤ └─┐ ──┘ │
│ │ │ │ │   │         │       │ │         │       │   │ │     │     │ │   │   │ │ │   │   │   │ │     │     │ │     │   │ │     │   │ │       │   │     │ │     │ │     │ │   │       │ │ │   │   │     │
│ │ │ │ │ ┌─┴───┐ │ ──┤ ┌─────┴─┘ ──┬───┐ ├── ┌── │ │ ├─┘ ┌───┘ │ ┌─┘ ├── │ │ │ │ └── ├─┐ ├── │ │ ────┘ ┌───┘ └─────┴── │ └── ──┤ ┌─┘ ├───┐ ──┘ │ ├── │ ├─┼── ──┼─┼─┐ │ ├─┘ ──┴─────┐ │ │ │ ──┤ │ │ │ │ │
│     │ │ │     │ │   │ │           │   │ │   │   │ │ │   │     │ │   │   │ │         │ │ │             │                       │ │   │   │     │ │   │ │ │     │ │ │ │ │           │ │   │   │ │   │ │ │
│ │ │ │ │ │ ──┐ ├─┘ ──┼─┤ │ ┌── ┌── │ │ ├─┴───┘ ──┼─┘ ├── └── ┌─┘ │ │ │ │ │ │ │ ──┐ ──┤ │ └─────┐ │ │ │ └── ────┬───┐ ┌── ────┬─┴─┤ ──┘ ──┤ │ ──┼─┘ │ └─┘ ├───┬─┘ │ │ ├─┼── ┌──── ┌─┴─┘ │ ├── └─┴─┐ ├─┤ │
│ │ │     │   │ │     │ │ │ │   │   │ │ │         │   │       │   │ │   │   │ │   │   │         │ │ │ │         │   │ │       │   │       │ │   │   │     │   │   │   │ │   │     │     │ │       │ │ │ │
├─┴─┘ ────┼───┘ └──── │ │ │ │ ┌─┘ │ │ └─┴─────┐ │ └── │ ┌── │ ├── └─┤ ──┤ ──┴─┴─┐ ├── │ │ ──────┼─┘ └─┼── ┌──── └─┐ │ │ ──┬── └── ├── ┌───┘ │ │ │ ┌─┘ ────┘ │ │ │ │ ──┘ │ │ ├── │ │ │ ──┼─┴── ────┤ │ │ │
│         │             │ │ │ │   │           │ │     │ │   │ │     │   │       │ │   │ │       │     │   │       │   │   │       │   │     │ │ │ │         │   │ │       │ │   │   │   │         │ │ M X
└─────────┴─────────────┴─┴─┴─┴───┴───────────┴─┴─────┴─┴───┴─┴─────┴───┴───────┴─┴───┴─┴───────┴─────┴───┴───────┴───┴───┴───────┴───┴─────┴─┴─┴─┴─────────┴───┴─┴───────┴─┴───┴───┴───┴─────────┴─┴────
".to_string();

    println!("Challenge on :\n{}", grid);
    let i = Instant::now();
    let output = MonstrousMaze::resolve_monstrous_maze_challenge(MonstrousMazeInput {
        grid,
        endurance: 2,
    });
    println!("Output: {}", output.path);
    println!("{:?}", i.elapsed());
}
